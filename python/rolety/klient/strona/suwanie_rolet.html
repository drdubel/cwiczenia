<!DOCTYPE html>
<html>
    <head>
        <title>Page Title</title>
    </head>
    <body>
        <script>
            var wsId = Math.floor(Math.random() * 2000000000)
            var ws = new WebSocket("ws://localhost:8000/ws/" + wsId);
            ws.onmessage = function(event) {
                console.info(event.data)
                var msg = JSON.parse(event.data)
                var binput = document.getElementById(msg.blind)
                binput.value = msg.current_position
            };
            function setBlind(bId, val) {
                ws.send(JSON.stringify({"blind": bId, "position": parseInt(val)}))
            }
        </script>
        <form action="/setblind">
            <label for="r1">Sypialnia R</label><br>
            <input type="number" id="r1" name="r1" min="0" max="999" onchange="setBlind(this.id, this.value)"><br>
            <label for="r2">Salon 1</label><br>
            <input type="number" id="r2" name="r2" min="0" max="999" onchange="setBlind(this.id, this.value)"><br>
            <label for="r3">Salon 2</label><br>
            <input type="number" id="r3" name="r3" min="0" max="999" onchange="setBlind(this.id, this.value)"><br>
            <label for="r4">Salon 3</label><br>
            <input type="number" id="r4" name="r4" min="0" max="999" onchange="setBlind(this.id, this.value)"><br>
            <label for="r5">Salon 4</label><br>
            <input type="number" id="r5" name="r5" min="0" max="999" onchange="setBlind(this.id, this.value)"><br>
        </form>
        <ul id="messages"></ul>
    </body>
</html>